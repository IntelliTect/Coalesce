import{_ as l,c as n,I as t,a7 as s,l as o,a,D as r,o as i}from"./chunks/framework.BkavzUpE.js";const w=JSON.parse('{"title":"[Execute]","description":"","frontmatter":{},"headers":[],"relativePath":"modeling/model-components/attributes/execute.md","filePath":"modeling/model-components/attributes/execute.md"}'),c={name:"modeling/model-components/attributes/execute.md"},p=s(`<h1 id="execute" tabindex="-1">[Execute] <a class="header-anchor" href="#execute" aria-label="Permalink to &quot;[Execute]&quot;">​</a></h1><p><code>IntelliTect.Coalesce.DataAnnotations.ExecuteAttribute</code></p><p>Controls various aspects of <a href="/Coalesce/modeling/model-components/methods.html">Custom Methods</a>, including role-based permissions, HTTP behavior, and more.</p><p>For other security controls, see <a href="/Coalesce/modeling/model-components/attributes/security-attribute.html">Security Attributes</a>.</p><h2 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-label="Permalink to &quot;Example Usage&quot;">​</a></h2><div class="language-c#"><button title="Copy Code" class="copy"></button><span class="lang">c#</span><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#569CD6;">public</span><span style="color:#569CD6;"> class</span><span style="color:#4EC9B0;"> Person</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#569CD6;">    public</span><span style="color:#569CD6;"> int</span><span style="color:#9CDCFE;"> PersonId</span><span style="color:#D4D4D4;"> { </span><span style="color:#569CD6;">get</span><span style="color:#D4D4D4;">; </span><span style="color:#569CD6;">set</span><span style="color:#D4D4D4;">; }</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span></span>
<span class="line"><span style="color:#D4D4D4;">    [</span><span style="color:#4EC9B0;">Coalesce</span><span style="color:#D4D4D4;">, </span><span style="color:#4EC9B0;">Execute</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">Roles</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&quot;Payroll,HR&quot;</span><span style="color:#D4D4D4;">)]</span></span>
<span class="line"><span style="color:#569CD6;">    public</span><span style="color:#569CD6;"> void</span><span style="color:#DCDCAA;"> GiveRaise</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">int</span><span style="color:#9CDCFE;"> centsPerHour</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">        ...</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    ...</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h2>`,7),d=o("p",null,"A comma-separated list of roles which are allowed to execute the method.",-1),h=s("<p>The level of access to allow for the action for the method.</p><p>Enum values are:</p><ul><li><code>SecurityPermissionLevels.AllowAll</code> Allow all users to perform the action for the attribute, including users who are not authenticated at all.</li><li><code>SecurityPermissionLevels.AllowAuthorized</code> Allow only users who are members of the roles specified on the attribute to perform the action. If no roles are specified on the attribute, then all authenticated users are allowed (no anonymous access).</li><li><code>SecurityPermissionLevels.DenyAll</code> Deny the action to all users, regardless of authentication status or authorization level. If <code>DenyAll</code> is used, no API endpoint for the action will be generated.</li></ul>",3),u=o("p",null,"If true, the method's arguments will be cleared after a successful invocation on admin pages.",-1),m=o("p",null,[a("If non-null, overrides the value of "),o("a",{href:"/Coalesce/topics/security.html#attribute-validation"},[o("code",null,"CoalesceOptions.ValidateAttributesForMethods")]),a(" when determining whether to perform automatic server-side validation of the method's parameters.")],-1),_=o("p",null,"If validation is performed, the method's parameters will be validated by the server and the method invocation prevented if errors are found.",-1),D=s("<p>The HTTP method to use on the generated API Controller.</p><p>Enum values are:</p><ul><li><code>HttpMethod.Post</code> Use the POST method.</li><li><code>HttpMethod.Get</code> Use the GET method.</li><li><code>HttpMethod.Put</code> Use the PUT method.</li><li><code>HttpMethod.Delete</code> Use the DELETE method.</li><li><code>HttpMethod.Patch</code> Use the PATCH method.</li></ul>",3),y=s('<p>For HTTP GET model instance methods, if <code>VaryByProperty</code> is set to the name of a property on the parent model class, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag" target="_blank" rel="noreferrer">ETag headers</a> based on the value of this property will be used to implement caching. If the client provides a matching <code>If-None-Match</code> Header with the request, the method will not be invoked and HTTP Status `304 Not Modified`` will be returned.</p><p>Additionally, if the <code>VaryByProperty</code> is set to a client-exposed <a href="/Coalesce/modeling/model-components/properties.html">property</a>, the value of the property will be included in the query string when performing API calls to invoke the method. If the query string value matches the current value on the model, a long-term <code>Cache-Control</code> header will be set on the response, allowing the client to avoid making future invocations to the same method while the value of the <code>VaryByProperty</code> remains the same.</p>',2),f=o("p",null,"Specifies that the targeted model instance method should load the instance it is called on from the specified data source when invoked from an API endpoint. If not defined, the model's default data source is used.",-1);function b(P,T,C,g,v,A){const e=r("Prop");return i(),n("div",null,[p,t(e,{def:"public string Roles { get; set; }"}),d,t(e,{def:"public SecurityPermissionLevels PermissionLevel { get; set; } = SecurityPermissionLevels.AllowAuthorized;"}),h,t(e,{def:"public bool AutoClear { get; set; }"}),u,t(e,{def:"public bool? ValidateAttributes { get; set; }"}),m,_,t(e,{def:"public HttpMethod HttpMethod { get; set; } = HttpMethod.Post;"}),D,t(e,{def:"public string? VaryByProperty { get; set; }"}),y,t(e,{def:"public Type? DataSource { get; set; }"}),f])}const S=l(c,[["render",b]]);export{w as __pageData,S as default};
