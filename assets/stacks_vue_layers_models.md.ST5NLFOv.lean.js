import{_ as p,c,I as a,w as t,a7 as n,l as e,a as s,D as r,o as i}from"./chunks/framework.BkavzUpE.js";const Q=JSON.parse('{"title":"Vue Model Layer","description":"","frontmatter":{},"headers":[],"relativePath":"stacks/vue/layers/models.md","filePath":"stacks/vue/layers/models.md"}'),d={name:"stacks/vue/layers/models.md"},D=n("",13),y=n("",3),u=e("div",{class:"language-ts"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"ts"),e("pre",{class:"shiki dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"import"),e("span",{style:{color:"#D4D4D4"}}," { "),e("span",{style:{color:"#9CDCFE"}},"bindToQueryString"),e("span",{style:{color:"#D4D4D4"}}," } "),e("span",{style:{color:"#C586C0"}},"from"),e("span",{style:{color:"#CE9178"}}," 'coalesce-vue'"),e("span",{style:{color:"#D4D4D4"}},";")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#6A9955"}},"// In the 'created' Vue lifecycle hook on a component:")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"created"),e("span",{style:{color:"#D4D4D4"}},"() {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#6A9955"}},"  // Bind pagination information to the query string:")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"  bindToQueryString"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"listViewModel"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"$params"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#CE9178"}},"'pageSize'"),e("span",{style:{color:"#D4D4D4"}},", { "),e("span",{style:{color:"#9CDCFE"}},"parse:"),e("span",{style:{color:"#9CDCFE"}}," parseInt"),e("span",{style:{color:"#D4D4D4"}}," });")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#6A9955"}},"  // Assuming the component has an 'activeTab' data member:")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"  bindToQueryString"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#CE9178"}},"'activeTab'"),e("span",{style:{color:"#D4D4D4"}},");")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"}")])])])],-1),h=e("div",{class:"language-ts"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"ts"),e("pre",{class:"shiki dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"import"),e("span",{style:{color:"#D4D4D4"}}," { "),e("span",{style:{color:"#9CDCFE"}},"useBindToQueryString"),e("span",{style:{color:"#D4D4D4"}}," } "),e("span",{style:{color:"#C586C0"}},"from"),e("span",{style:{color:"#CE9178"}}," 'coalesce-vue'"),e("span",{style:{color:"#D4D4D4"}},";")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#6A9955"}},"// Bind pagination information to the query string:")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#569CD6"}},"const"),e("span",{style:{color:"#4FC1FF"}}," list"),e("span",{style:{color:"#D4D4D4"}}," = "),e("span",{style:{color:"#569CD6"}},"new"),e("span",{style:{color:"#DCDCAA"}}," PersonListViewModel"),e("span",{style:{color:"#D4D4D4"}},"();")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"useBindToQueryString"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#9CDCFE"}},"list"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"$params"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#CE9178"}},"'pageSize'"),e("span",{style:{color:"#D4D4D4"}},", { "),e("span",{style:{color:"#9CDCFE"}},"parse:"),e("span",{style:{color:"#9CDCFE"}}," parseInt"),e("span",{style:{color:"#D4D4D4"}}," });")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#569CD6"}},"const"),e("span",{style:{color:"#4FC1FF"}}," activeTab"),e("span",{style:{color:"#D4D4D4"}}," = "),e("span",{style:{color:"#DCDCAA"}},"ref"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#CE9178"}},'"1"'),e("span",{style:{color:"#D4D4D4"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"useBindToQueryString"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#9CDCFE"}},"activeTab"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#CE9178"}},"'activeTab'"),e("span",{style:{color:"#D4D4D4"}},");")])])])],-1),m=e("p",null,[s(" The query string will be updated using either `router.push` or `router.replace` depending on the value of parameter `mode`. "),e("p",null,"If the query string contains a value when this is called, the object will be updated with that value immediately."),e("p",null,[s("If the object being bound to has "),e("code",null,"$metadata"),s(", information from that metadata will be used to serialize and parse values to and from the query string. Otherwise, the "),e("code",null,"stringify"),s(" option (default: "),e("code",null,"String(value)"),s(") will be used to serialize the value, and the "),e("code",null,"parse"),s(" option (if provided) will be used to parse the value from the query string.")])],-1),C=e("p",null,[s("When "),e("code",null,"model"),s(" is created (i.e. its primary key becomes non-null), replace the current URL with one that includes uses primary key for the route parameter named by "),e("code",null,"routeParamName"),s(".")],-1),f=e("p",null,[s("The query string will not be kept when the route is changed unless "),e("code",null,"true"),s(" is given to "),e("code",null,"keepQuery"),s(".")],-1),g=e("div",{class:"language-ts"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"ts"),e("pre",{class:"shiki dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"import"),e("span",{style:{color:"#D4D4D4"}}," { "),e("span",{style:{color:"#9CDCFE"}},"bindKeyToRouteOnCreate"),e("span",{style:{color:"#D4D4D4"}}," } "),e("span",{style:{color:"#C586C0"}},"from"),e("span",{style:{color:"#CE9178"}}," 'coalesce-vue'"),e("span",{style:{color:"#D4D4D4"}},";")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#6A9955"}},"// In the 'created' Vue lifecycle hook on a component:")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"created"),e("span",{style:{color:"#D4D4D4"}},"() {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"  if"),e("span",{style:{color:"#D4D4D4"}}," ("),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"id"),e("span",{style:{color:"#D4D4D4"}},") {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#569CD6"}},"    this"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"viewModel"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#DCDCAA"}},"$load"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"id"),e("span",{style:{color:"#D4D4D4"}},");")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"  } "),e("span",{style:{color:"#C586C0"}},"else"),e("span",{style:{color:"#D4D4D4"}}," {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"    bindKeyToRouteOnCreate"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},", "),e("span",{style:{color:"#569CD6"}},"this"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"viewModel"),e("span",{style:{color:"#D4D4D4"}},");")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"  }")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"}")])])])],-1),b=e("div",{class:"language-ts"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"ts"),e("pre",{class:"shiki dark-plus vp-code"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"import"),e("span",{style:{color:"#D4D4D4"}}," { "),e("span",{style:{color:"#9CDCFE"}},"useBindKeyToRouteOnCreate"),e("span",{style:{color:"#D4D4D4"}}," } "),e("span",{style:{color:"#C586C0"}},"from"),e("span",{style:{color:"#CE9178"}}," 'coalesce-vue'"),e("span",{style:{color:"#D4D4D4"}},";")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#569CD6"}},"const"),e("span",{style:{color:"#4FC1FF"}}," props"),e("span",{style:{color:"#D4D4D4"}}," = "),e("span",{style:{color:"#DCDCAA"}},"defineProps"),e("span",{style:{color:"#D4D4D4"}},"<{"),e("span",{style:{color:"#9CDCFE"}},"id"),e("span",{style:{color:"#D4D4D4"}},": "),e("span",{style:{color:"#4EC9B0"}},"number"),e("span",{style:{color:"#D4D4D4"}},"}>();")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#569CD6"}},"const"),e("span",{style:{color:"#4FC1FF"}}," viewModel"),e("span",{style:{color:"#D4D4D4"}}," = "),e("span",{style:{color:"#569CD6"}},"new"),e("span",{style:{color:"#DCDCAA"}}," PersonViewModel"),e("span",{style:{color:"#D4D4D4"}},"();")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C586C0"}},"if"),e("span",{style:{color:"#D4D4D4"}}," ("),e("span",{style:{color:"#9CDCFE"}},"props"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"id"),e("span",{style:{color:"#D4D4D4"}},") {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#9CDCFE"}},"  viewModel"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#DCDCAA"}},"$load"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#9CDCFE"}},"props"),e("span",{style:{color:"#D4D4D4"}},"."),e("span",{style:{color:"#9CDCFE"}},"id"),e("span",{style:{color:"#D4D4D4"}},");")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"} "),e("span",{style:{color:"#C586C0"}},"else"),e("span",{style:{color:"#D4D4D4"}}," {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DCDCAA"}},"  useBindToQueryString"),e("span",{style:{color:"#D4D4D4"}},"("),e("span",{style:{color:"#9CDCFE"}},"viewModel"),e("span",{style:{color:"#D4D4D4"}},");")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#D4D4D4"}},"}")])])])],-1),v=n("",4),_=n("",4),T=e("p",null,[s("Performs the same operations as "),e("code",null,"convertToModel"),s(", except that any objects encountered will not be mutated - instead, a new object or array will always be created.")],-1),A=e("p",null,"Maps the input to a representation suitable for JSON serialization.",-1),w=e("p",null,[s("Will not serialize child objects or collections whose metadata includes "),e("code",null,"dontSerialize"),s(". Will only recurse to a maximum depth of 3.")],-1),E=e("p",null,[e("a",{id:"VueModelDisplayFunctions"})],-1),S=n("",3),F=e("p",null,"Returns a string representing the specified property of the given object suitable for display in a user interface.",-1),k=e("p",null,[s("The property can either be a string, representing one of the model's properties, or the actual "),e("code",null,"Property"),s(" metadata object of the property.")],-1),P=e("p",null,[s("See "),e("a",{href:"#displayoptions"},"DisplayOptions"),s(" for available options.")],-1),q=n("",9),V=n("",3),I=e("p",null,[s("Returns the current configured default time zone. Default is "),e("code",null,"null"),s(", falling back on the user's computer's system time zone.")],-1);function B(M,O,x,j,N,z){const o=r("Prop"),l=r("CodeTabs");return i(),c("div",null,[D,a(o,{def:`// Vue Options API
bindToQueryString: {
  (vue: Vue, obj: {}, key: string, options?: BindToQueryStringOptions);
  (vue: Vue, ref: Ref<any>, queryKey: string);
  (vue: Vue, ref: Ref<any>, options: BindToQueryStringOptions);
}
 
// Vue Composition API
useBindToQueryString: {
  (obj: {}, key: string, options?: BindToQueryStringOptions);
  (ref: Ref<any>, queryKey: string);
  (ref: Ref<any>, options: BindToQueryStringOptions);
}`,lang:"ts",idPrefix:"member-bindToQuery"}),y,a(l,{name:"vue"},{options:t(()=>[u]),setup:t(()=>[h]),_:1}),m,a(o,{def:`
bindKeyToRouteOnCreate(vue: Vue, model: Model<ModelType>, routeParamName: string = 'id', keepQuery: boolean = false)
 
useBindKeyToRouteOnCreate(model: Model<ModelType>, routeParamName: string = 'id', keepQuery: boolean = false)`,lang:"ts",idPrefix:"member-bindKey"}),C,f,a(l,{name:"vue"},{options:t(()=>[g]),setup:t(()=>[b]),_:1}),v,a(o,{def:"convertToModel(value: any, metadata: Value | ClassType): any",lang:"ts"}),_,a(o,{def:"mapToModel(value: any, metadata: Value | ClassType): any",lang:"ts"}),T,a(o,{def:"mapToDto(value: any, metadata: Value | ClassType): any",lang:"ts"}),A,w,E,a(o,{def:"modelDisplay(model: Model, options?: DisplayOptions): string",lang:"ts"}),S,a(o,{def:"propDisplay(model: Model, prop: Property | string, options?: DisplayOptions): string",lang:"ts"}),F,k,P,a(o,{def:"valueDisplay(value: any, metadata: Value, options?: DisplayOptions): string",lang:"ts"}),q,a(o,{def:"setDefaultTimeZone(timeZoneName: string | null): void",lang:"ts"}),V,a(o,{def:"getDefaultTimeZone(): string | null",lang:"ts"}),I])}const $=p(d,[["render",B]]);export{Q as __pageData,$ as default};
